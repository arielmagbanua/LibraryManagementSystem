$(document).ready(function(){$(".search-select").select2({theme:"bootstrap",dropdownParent:$("#search_parameter_container")});var a=$("#baseURL").html(),t=a+"/serverSide/borrowStatistics";$("#books_loans_datatable").DataTable({processing:!0,serverSide:!0,order:[[0,"desc"]],ajax:{url:t,type:"get",error:function(){},data:function(a){a.title=$("#title").val(),a.author_id=$("#author_id").val(),a.isbn=$("#isbn").val(),a.status=$("#status").val(),a.user_id=$("#user_id").val()}},columns:[{data:"title"},{data:"author_name"},{data:"isbn"},{data:"status"},{data:"borrow_start_date"},{data:"date_returned"},{data:"borrower"},{data:"fine"}],drawCallback:function(a){var t=this.api(),e=t.data().count();e>0?$("#download_borrow_report").show():$("#download_borrow_report").hide()},footerCallback:function(a,t,e,r,o){var n=this.api(),d=function(a){return"string"==typeof a?1*a.replace(/[\$,]/g,""):"number"==typeof a?a:0},s=n.column(7).data().reduce(function(a,t){return d(a)+d(t)},0),i=n.column(7,{page:"current"}).data().reduce(function(a,t){return d(a)+d(t)},0);$(n.column(7).footer()).html(i+" ( "+s+" total)")}}),$("#generate_report").click(function(){var a=$("#books_loans_datatable").DataTable();a.ajax.reload()})});